{% extends 'base.html' %}

{% load django_bootstrap5 %}

{% block content %}
    <div class="card">
      <span>Filtros:</span><br>

    </div>
<div class="card">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Curso</th>
                <th>Opções</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for curso in cursos %}
                <tr>
                    <td>{{ curso.nome_curso }}</td>
                    <td>
                        <form method="post" action="">
                            {% csrf_token %}
                            <input type="hidden" name="curso_id" value="{{ curso.pk }}">
                            <button type="submit">Ver detalhes</button>
                        </form>
                    </td>
                    <td><a href="{% url 'curso_update' curso.pk %}">Editar</a></td>
                    <td><a href="{% url 'curso_delete' curso.pk %}">Excluir</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
    <div class="card">
      <div class="button-container">
        <a href="{% url 'curso_create' %}" class="button">Cadastrar novo Curso</a><br>
      </div>
      <div class="button-container">
        <a href="{% url 'home' %}" class="button">Voltar</a>
      </div>
    </div>
    {% if selected_curso %}
        <!-- Modal -->
        <input type="checkbox" id="modal-detail" class="modal-toggle" checked>
        <div class="modal">
            <div class="modal-box">
                <label for="modal-detail" class="btn btn-sm btn-circle absolute right-2 top-2">✕</label>
                <div style="text-align: center;">
                    {% include 'cursos/cursos_detail.html' with curso=selected_curso %}
                </div>
            </div>
        </div>
    {% endif %}

<style>
.modal-toggle {
    display: none;
}

.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0, 0, 0);
    background-color: rgba(0, 0, 0, 0.4);
}

.modal-box {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
}

.modal-toggle:checked + .modal {
    display: block;
}

</style>
{% endblock %}